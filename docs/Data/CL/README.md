# C语言基础知识





## 数据类型

### 一般的数据类型

| 数据类型 | 说明         | 字节 | 应用               | 示例                  |
| -------- | ------------ | ---- | ------------------ | --------------------- |
| char     | 字符型       | 1    | 用于存储单个字符   | char sex = 'M';       |
| int      | 整型         | 2    | 存储整数           | int height = 18;      |
| float    | 单精度浮点型 | 4    | 存储小数           | float price = 11.1;   |
| double   | 双精度浮点型 | 8    | 存储位数更多的小数 | double pi = 3.1415926 |





### 整数的类型

| 数据类型           | 说明               | 字节 | 取值范围                         |
| ------------------ | ------------------ | ---- | -------------------------------- |
| int                | 整型               | 2    | （-32768~32767）-2^15 - 2^15 - 1 |
| short int          | 短整型 (int可省略) | 2    | （-32768~32767）-2^15 - 2^15 - 1 |
| long int           | 长整型 (int可省略) | 4    | -2^31 - 2^31 - 1                 |
| unsigned int       | 无符号整型         | 2    | （0~65535）0~2^16 -1             |
| unsigned short int | 无符号短整型       | 2    | （0~65535）0~2^16 -1             |
| unsigned long int  | 无符号长整型       | 4    | （0~4294967295）0~2^32-1         |



## 格式化输出

格式化输出的语句，可以说是占位输出，是将各种类型的数据按照格式化后的类型及指定的位置从计算机上显示。**printf("输出格式符"，输出项)**



| 格式符 | 说明             | 举例子                             |
| ------ | ---------------- | ---------------------------------- |
| %d     | 带符号十进制整数 | printf("小明今年？岁: %d\n", age); |
| %c     | 单个字符         |                                    |
| %s     | 字符串           |                                    |
| %f     | 6为小数          |                                    |

格式符的个数要与变量、常量或者表达式的个数 一 一 对应 。





## C 变量

变量其实只不过是程序可操作的存储区的名称，类型决定变量存储的大小和布局。

变量初值的问题可以分为非静态的全局变量、局部变量和静态变量(也分全局和局部)三类。如果没有明确初始化的话，
全局变量：多数编译器初始化为0，有的是随机值；
局部变量：都是随机值；
静态变量：都是0。

```c
int main() {
	int var1; // 局部变量就是随机
	printf("内存中的位置: %p\n", &var1); //var1变量的地址： 0x7ffeede49908 283672630
}
```



## 不可变常量

值不发生改变的量称为常里。C里面的常量称为直接常量和符号常量。**常量不能改变的**

用标识符来表示一个变量 称之为符号常量，符号常量在使用之前必须先定义

* **#define 标识符 常量值**
*  **使用const关键字**

一般符号常量习惯使用大写字母。变量的标识符使用小写字母。

```c
#include <stdio.h>
#define PI 3.14

const type variable = value;

int main() {
  printf("圆周率：%f\n", PI);
  return 0;
}
```





## 自动类型转换

变量的数据类型存在自动转换的情况，例如将一根字符赋值给int，会在编译的时候自动转换。



> * **字节小的可以向字节大的自动转换，但字节大的不能向字节小的自动转换**
>
> * **char类型转换为int数据类型遵循ASCII码中的对应值**

```c
#include <stdio.h>

int main() {
  char c = 'c';
  int x = c;

  printf("赋值后的x值为：%d\n", x); // 99
  return 0;
}
```



##  强制转换类型

强制类型转换是通过定义类型转换运算来实现。

(数据类型)(表达式)

* 数据类型和表达式都需要加上括号
* 转换后不会改变原数据的类型以及变量值 只在本次运算中临时性转换
* 强制转换后的运算结果不遵循四舍五入原则



## 运算符的优先级

| 优先级     | 运算符                   |
| ---------- | ------------------------ |
| 1 最高级别 | （）                     |
| 2          | ！ +（正） -（负） ++ -- |
| 3          | * / %                    |
| 4          | +(加)   -（减）          |
| 5          | <    <=    >=   >        |
| 6          | ==     !=                |
| 7          | &&                       |
| 8          | \|\|                     |
| 9          | ? :                      |
| 10         | =    +=   -=  *=  /= %=  |



## 循环



### while循环

```C
while(表达式) {
    // 执行代码块
}
```

表达式表示循环条件，代码块为循环体。

1、while语句中的**表达式一般是关系表达或逻辑表达式**，当表达式的值为假时不执行循环体，反之则循环体一直执行。

2、一定要记着**在循环体中改变循环变量的值**，否则会出现死循环（无休止的执行）。

3、循环体如果包括有一个以上的语句，则**必须用{}括起来**，组成复合语句。



do-while循环语句的语义是：它先执行循环中的执行代码块，然后再判断while中表达式是否为真，如果为真则继续循环；如果为假，则终止循环。因此，**do-while循环至少要执行一次循环语句**。



### for循环

```C
for (表达式1; 表达式2; 表达式3) {
    // 执行代码块
}
```

它的执行过程如下：

第一步：执行表达式1，对循环变量做初始化；

第二步：判断表达式2，若其值为真（非0），则执行for循环体中执行代码块，然后向下执行；若其值为假（0），则结束循环；

第三步：执行表达式3；

第四步：执行for循环中执行代码块后执行第二步；

第五步：循环结束，程序继续向下执行。



### for循环二

在for循环中，**表达式1**是一个或多个**赋值语句**，它用来**控制变量的初始值**；**表达式2**是一个**关系表达式**，它决定什么时候退出循环；**表达式3**是循环变量的**步进值**，定义控制循环变量每循环一次后按什么方式变化。这**三部分之间用分号(;)分开**。

使用for语句应该**注意**：

1、for循环中的“表达式1、2、3”均可可以缺省，但**分号(;)不能缺省**。

2、省略“表达式1（循环变量赋初值）”，**表示不对循环变量赋初始值**。如：



在**知道循环次数**的情况下更适合**使用for循环**；



```C
#include <stdio.h>

int main() {
  int i, j, result;

  /**
   * 使用for循环解决 9 * 9 乘法口诀
   */
  for (i = 9; i > 0; i--) {
    for (j = 1; j <= i; j++) {
      result = i * j;
      printf("%d*%d=%d ", i, j, result);
    }
    printf("\n");
  }
  return 0;
}

```



### break

* 一般形式 break；  其作用是使流程跳到循环体之外，接着执行循环体下面的语句。
* break 只能用在for循环和 switch语句中。不能单独使用
* continue语句提前结束本次循环 而break直接跳出循环





# 提高篇



## 函数 Function

函数声明告诉编译器函数的名称、返回类型和参数。函数定义提供了函数的实际主体。C 标准库提供了大量的程序可以调用的内置函数。例如

* strcat() 连接两个字符串
* memcpy() 从源src所指的内存地址的起始位置开始拷贝n个字节到目标dest所指的内存地址的起始位置中



### 定义函数

```C
return_type function_name(parameter list) {
  // body of the function
}
```



* 返回类型：一个函数可以返回一个值。return_type 是函数返回的值的数据类型，有些函数执行所需要的操作而不返回值 这种情况下 return_tyope 是关键字 void。
* 函数名称：函数的实际名称。函数名和参数列表一起构成了函数签名
* 参数：参数就是占位符。当函数被调用时，向参数传一个值 这个值被称为实际参数。参数是可选的
* 函数主体：函数主体包含一组定义函数执行任务的语句







### 函数声明

函数声明会告诉编译器函数名称和如何调用函数。函数的实际主体可以单独定义。





### 函数参数

如果函数要使用参数，则必须声明接受参数值的变量。这些变量称为函数的**形式参数**。

形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。



* 传值调用：该方法把参数的实际值复制给函数的形式参数。修改函数内的形参不会影响实际参数
* 传引用调用：通过指针传递方式，形参为指向实参地址的指针，当对形参的指向操作时，就相当于对实参本身进行的操作。



**C使用传值调用在默认情况下，意味着函数内的代码不能改变用于调用函数的实际参数。**



## C 作用域规则

作用域是程序中定义的变量所在的区域，超过该区域变量就不能被访问。C语言中有三个地方可以声明变量：

* 在函数或块内部的局部变量
* 在所有函数外部的全局变量
* 在形式参数的函数参数定义中



#### 局部变量

在某个函数或块的内部声明的变量称为局部变量。它们只能被该函数或该代码块内部的语句使用。局部变量在函数外部是不可知的。



#### 全局变量

全局变量是定义在函数外部，通常是在程序的顶部。全局变量在整个程序生命周期内都是有效的，在任意的函数内部能访问全局变量。全局变量可以被任何函数访问。也就是说，全局变量在声明后整个程序中都是可用的。



::: tip 全局变量与局部变量在内存中的区别

- 全局变量保存在内存的全局存储区中，占用静态的存储单元；
- 局部变量保存在栈中，只有在所在函数被调用时才动态地为变量分配存储单元。

:::



在调用函数过程中发生的实参与形参之间的数据传递，常称为“虚实结合”

1. 在定义函数中制定的形参，在没有出现函数调用时不占用内存中的存储单元。在函数调用时才分配内存
2. 将实参的值传递给形参
3. 在执行函数时，由于形参已经有值。可以用形参进行运算。
4. 通过return语句将函数值返回，若无返回值，则无return
5. 调用结束后，形参被释放掉，实参保留原值（单向传值）



## 数组

类型符 数组名[常量表达式]。

* 数组名的命名规则和变量名相同，遵循标识符命名规
* 定义数组需要制定数组的个数 方括号中国的变量表达式用来表示元素的个数 即数组长度
* 常量表达式中可以报考常量和符号常量 不能包括变量



C 语言支持**数组**数据结构，它可以存储一个固定大小的相同类型元素的顺序集合。数组是用来存储一系列数据，但它往往被认为是一系列相同类型的变量。所有的数组都是由连续的内存位置组成。最低的地址对应第一个元素，最高的地址对应最后一个元素。

```c
type arrayName [arraySize];
```



传数组给函数，就函数而言，数组的长度是无关紧要的，因为 C 不会对形式参数执行边界检查。



## enum 枚举

枚举是 C 语言中的一种基本数据类型，它可以让数据更简洁，更易读。

```c
enum 枚举名 { 枚举元素1，枚举元素2，...... };

// 第一个枚举成员默认值是0，后续枚举成员的值在前一个成员上加1 如果第一个是1 后面第二个就是2 以此类推
enum DAY {
  MON = 1,
  TUE, WED, THU, FRI, SAT, SUN
}

// spring = 0 后面依次 3 4 5
enum season {spring, summer=3, autumn, winter};
```







## 指针

在C里面，每一个变量都有一个内存位置，每一个内存位置都定义了可使用连字号( & )运算符访问地址。表示在内存中的一个地址。

```c
int var1;

printf("内存中的位置: %p\n", &var1); //var1变量的地址： 0x7ffeede49908
```



### 什么是指针

指针是一种变量，ta